
<!DOCTYPE html>
<html>

<head>
    

<title>Many Coin Flips</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta http-equiv="content-type" content="text/html; charset=UTF8">

<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">

<!-- Python highlighting -->
<script src="../../../plugins/prism/prism.js"></script>
<link href="../../../plugins/prism/prism.css" rel="stylesheet" />

<!-- jQuery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous"></script>
 <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="Stylesheet" type="text/css" />

<!-- D3 CDN -->
<script src="https://d3js.org/d3.v3.js"></script>
<!-- <script src="https://d3js.org/d3.v4.js"></script> -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<!-- Chart CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/1.0.2/chartjs-plugin-annotation.min.js" integrity="sha512-FuXN8O36qmtA+vRJyRoAxPcThh/1KJJp7WSRnjCpqA+13HYGrSWiyzrCHalCWi42L5qH1jt88lX5wy5JyFxhfQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- PDF JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js" integrity="sha512-Z8CqofpIcnJN80feS2uccz+pXWgZzeKxDsDNMD/dJ6997/LSRY+W4NmEt9acwR+Gt9OHN0kkI1CTianCwoqcjQ==" crossorigin="anonymous"></script>

<!-- Lunr CDN -->
 <script src="https://unpkg.com/lunr@2.0.4/lunr.js"></script>

<!-- Firebase CDN -->
<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../../../css/style.css">

<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>


   

<!-- Java Script -->
<script src="../../../plugins/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- Python highlighting -->
<script src="../../../plugins/prism/prism.js"></script>
<link href="../../../plugins/prism/prism.css" rel="stylesheet" />

<!-- Probability Packages -->
<script src="../../../js/probabilityUtils.js"></script>
<script src="../../../plugins/probability/gaussian.js"></script>
<script src="../../../plugins/color.js"></script>
<script src='https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js'></script>


<!-- font awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

<!-- SWAL -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>


<!-- Stanford -->
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Source+Serif+Pro:400,600,700' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Crimson+Text" rel="stylesheet">

<!-- Math Jax -->
<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script> -->
<script type="text/javascript">
  MathJax = {
    config: ["MMLorHTML.js"],
    jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
    extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js"],
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js", "action.js"]
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    },
	"fast-preview": {
	  disabled: true
	}
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>



<script src="../../../plugins/math.min.js"></script>



    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

 <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
    <script src="../../../plugins/jquery.mCustomScrollbar.js"></script>

</head>

<script>
  Chart.defaults.font.family = 'Times New Roman';
  Chart.defaults.font.size = 18;
</script>


<!-- I declare a few math operators I often use in equations -->
<div style="display:none">
  $\DeclareMathOperator{\p}{P}$
  $\DeclareMathOperator{\P}{P}$
  $\DeclareMathOperator{\c}{^C}$
  $\DeclareMathOperator{\or}{  or}$
  $\DeclareMathOperator{\and}{  and}$
  $\DeclareMathOperator{\var}{Var}$
  $\DeclareMathOperator{\Var}{Var}$
  $\DeclareMathOperator{\Std}{Std}$
  $\DeclareMathOperator{\E}{E}$
  $\DeclareMathOperator{\std}{Std}$
  $\DeclareMathOperator{\Ber}{Bern}$
  $\DeclareMathOperator{\Bin}{Bin}$
  $\DeclareMathOperator{\Poi}{Poi}$
  $\DeclareMathOperator{\Uni}{Uni}$
  $\DeclareMathOperator{\Geo}{Geo}$
  $\DeclareMathOperator{\NegBin}{NegBin}$
  $\DeclareMathOperator{\Beta}{Beta}$
  $\DeclareMathOperator{\Exp}{Exp}$
  $\DeclareMathOperator{\N}{N}$
  $\DeclareMathOperator{\R}{\mathbb{R}}$
  $\DeclareMathOperator*{\argmax}{arg\,max}$
  $\newcommand{\d}{\, d}$
  
</div>

<body class="greyBackground">


    <div class="wrapper">
        <!-- Sidebar  -->
<nav id="sidebar">
    <div class="sidebar-header">
        <!-- <div></div> -->
        <a style="text-align:left" href="../../index.html"><h3></i> Probability<br/>For Computer Science<br/></h3></a>
    </div>

    <div> 
        <!-- Put a link back to cs109 -->
    

        <!-- This adds a search bar! -->
        <div class="searchCol" style="font-family: 'Source Sans Pro', sans-serif;">
            
            <input type="text" class="form-control bookSearch" id="probability-for-digital-world-search" aria-describedby="search box" placeholder="🔍 Search book..."/>
        </div>
        
    </div>

<!-- intro -->
<ul class="list-unstyled components">
<li>
<a id=sidebar-notation href="../../intro/notation">Notation Reference</a>
<a id=sidebar-core_probability_ref href="../../intro/core_probability_ref">Core Probability Reference</a>
<a id=sidebar-all_distributions href="../../intro/all_distributions">Random Variable Reference</a>
<a id=sidebar-python href="../../intro/python">Python Reference</a>
<a id=sidebar-calculators href="../../intro/calculators">Calculators</a>
</li>
</ul>

<!-- part1 -->
<ul class="list-unstyled components">
<li><p href="{pathToLang}part1">Part 1: Core Probability</p></li>
<li>
<a id=sidebar-counting href="../../part1/counting">Counting</a>
<a id=sidebar-combinatorics href="../../part1/combinatorics">Combinatorics</a>
<a id=sidebar-probability href="../../part1/probability">Definition of Probability</a>
<a id=sidebar-equally_likely href="../../part1/equally_likely">Equally Likely Outcomes</a>
<a id=sidebar-prob_or href="../../part1/prob_or">Probability of <b>or</b></a>
<a id=sidebar-cond_prob href="../../part1/cond_prob">Conditional Probability</a>
<a id=sidebar-independence href="../../part1/independence">Independence</a>
<a id=sidebar-prob_and href="../../part1/prob_and">Probability of <b>and</b></a>
<a id=sidebar-law_total href="../../part1/law_total">Law of Total Probability</a>
<a id=sidebar-bayes_theorem href="../../part1/bayes_theorem">Bayes' Theorem</a>
<a id=sidebar-log_probabilities href="../../part1/log_probabilities">Log Probabilities</a>
<a id=sidebar-many_flips href="../../part1/many_flips">Many Coin Flips</a>

<li>
    <a href="#part1_examples" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle show">Applications</a>
    <ul class="collapse list-unstyled show" id="part1_examples">
        <li><a href="../../examples/enigma">Enigma Machine</a></li><li><a href="../../examples/serendipity">Serendipity</a></li><li><a href="../../examples/random_shuffles">Random Shuffles</a></li><li><a href="../../examples/counting_graphs">Random Graphs</a></li><li><a href="../../examples/diversity_shapes">Set Diversity</a></li><li><a href="../../examples/bacteria_evolution">Bacteria Evolution</a></li>
    </ul>
</li>
</li>
</ul>

<!-- part2 -->
<ul class="list-unstyled components">
<li><p href="{pathToLang}part2">Part 2: Random Variables</p></li>
<li>
<a id=sidebar-rvs href="../../part2/rvs">Random Variables</a>
<a id=sidebar-pmf href="../../part2/pmf">Probability Mass Functions</a>
<a id=sidebar-expectation href="../../part2/expectation">Expectation</a>
<a id=sidebar-variance href="../../part2/variance">Variance</a>
<a id=sidebar-bernoulli href="../../part2/bernoulli">Bernoulli Distribution</a>
<a id=sidebar-binomial href="../../part2/binomial">Binomial Distribution</a>
<a id=sidebar-poisson href="../../part2/poisson">Poisson Distribution</a>
<a id=sidebar-more_discrete href="../../part2/more_discrete">More Discrete Distributions</a>
<a id=sidebar-categorical href="../../part2/categorical">Categorical Distributions</a>
<a id=sidebar-continuous href="../../part2/continuous">Continuous Distribution</a>
<a id=sidebar-uniform href="../../part2/uniform">Uniform Distribution</a>
<a id=sidebar-exponential href="../../part2/exponential">Exponential Distribution</a>
<a id=sidebar-normal href="../../part2/normal">Normal Distribution</a>
<a id=sidebar-binomial_approx href="../../part2/binomial_approx">Binomial Approximation</a>

<li>
    <a href="#part2_examples" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle show">Applications</a>
    <ul class="collapse list-unstyled show" id="part2_examples">
        <li><a href="../../examples/100_binomial_problems">100 Binomial Problems</a></li><li><a href="../../examples/winning_series">Winning Series</a></li><li><a href="../../examples/approximate_counting">Approximate Counting</a></li><li><a href="../../examples/jury">Jury Selection</a></li><li><a href="../../examples/grading_eye_inflammation">Grading Eye Inflamation</a></li><li><a href="../../examples/grades_not_normal">Grades are Not Normal</a></li><li><a href="../../examples/curse_of_dimensionality">Curse of Dimensionality</a></li><li><a href="../../examples/algorithmic_art">Algorithmic Art</a></li>
    </ul>
</li>
</li>
</ul>

<!-- part3 -->
<ul class="list-unstyled components">
<li><p href="{pathToLang}part3">Part 3: Probabilistic Models</p></li>
<li>
<a id=sidebar-joint href="../../part3/joint">Joint Probability</a>
<a id=sidebar-marginalization href="../../part3/marginalization">Marginalization</a>
<a id=sidebar-multinomial href="../../part3/multinomial">Multinomial</a>
<a id=sidebar-continuous_joint href="../../part3/continuous_joint">Continuous Joint</a>
<a id=sidebar-inference href="../../part3/inference">Inference</a>
<a id=sidebar-bayesian_networks href="../../part3/bayesian_networks">Bayesian Networks</a>
<a id=sidebar-independent_vars href="../../part3/independent_vars">Independence in Variables</a>
<a id=sidebar-correlation href="../../part3/correlation">Correlation</a>
<a id=sidebar-computational_inference href="../../part3/computational_inference">General Inference</a>

<li>
    <a href="#part3_examples" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle show">Applications</a>
    <ul class="collapse list-unstyled show" id="part3_examples">
        <li><a href="../../examples/fairness">Fairness in AI</a></li><li><a href="../../examples/federalist">Federalist Paper Authorship</a></li><li><a href="../../examples/name2age">Name to Age</a></li><li><a href="../../examples/prob_baby_delivery">Probability of Baby Delivery</a></li><li><a href="../../examples/bayesian_carbon_dating">Bayesian Carbon Dating</a></li><li><a href="../../examples/digital_vision_test">Digital Vision Test</a></li><li><a href="../../examples/bridge_distribution">Bridge Distribution</a></li><li><a href="../../examples/bayesian_viral_load_test">Bayesian Viral Load Test</a></li><li><a href="../../examples/dart_logo">CS109 Logo</a></li><li><a href="../../examples/tracking_in_2D">Tracking in 2D</a></li>
    </ul>
</li>
</li>
</ul>

<!-- part4 -->
<ul class="list-unstyled components">
<li><p href="{pathToLang}part4">Part 4: Uncertainty Theory</p></li>
<li>
<a id=sidebar-beta href="../../part4/beta">Beta Distribution</a>
<a id=sidebar-summation_vars href="../../part4/summation_vars">Adding Random Variables</a>
<a id=sidebar-clt href="../../part4/clt">Central Limit Theorem</a>
<a id=sidebar-samples href="../../part4/samples">Sampling</a>
<a id=sidebar-bootstrapping href="../../part4/bootstrapping">Bootstrapping</a>
<a id=sidebar-algorithmic_analysis href="../../part4/algorithmic_analysis">Algorithmic Analysis</a>
<a id=sidebar-information_theory href="../../part4/information_theory">Information Theory</a>
<a id=sidebar-divergence href="../../part4/divergence">Distance Between Distributions</a>

<li>
    <a href="#part4_examples" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle show">Applications</a>
    <ul class="collapse list-unstyled show" id="part4_examples">
        <li><a href="../../examples/thompson">Thompson Sampling</a></li><li><a href="../../examples/night_sight">Night Sight</a></li><li><a href="../../examples/p_hacking">P-Hacking</a></li><li><a href="../../examples/differential_privacy">Differential Privacy</a></li>
    </ul>
</li>
</li>
</ul>

<!-- part5 -->
<ul class="list-unstyled components">
<li><p href="{pathToLang}part5">Part 5: Machine Learning</p></li>
<li>
<a id=sidebar-parameter_estimation href="../../part5/parameter_estimation">Parameter Estimation</a>
<a id=sidebar-mle href="../../part5/mle">Maximum Likelihood Estimation</a>
<a id=sidebar-map href="../../part5/map">Maximum A Posteriori</a>
<a id=sidebar-machine_learning href="../../part5/machine_learning">Machine Learning</a>
<a id=sidebar-naive_bayes href="../../part5/naive_bayes">Naïve Bayes</a>
<a id=sidebar-log_regression href="../../part5/log_regression">Logistic Regression</a>

<li>
    <a href="#part5_examples" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle show">Applications</a>
    <ul class="collapse list-unstyled show" id="part5_examples">
        <li><a href="../../examples/mle_demo">MLE Normal Demo</a></li><li><a href="../../examples/mle_pareto">MLE Pareto Distribution</a></li><li><a href="../../examples/mixture_models">MLE Mixture Model</a></li>
    </ul>
</li>
</li>
</ul>



    <!-- <ul class="list-unstyled components">
        
         <li>
            <p>Part ?: Misfits</p>
        </li>
        <li>
             <a href="../../examples/probBabies.html">Probability and babies</a>
            
             <a href="../../">Sampling from a likelihood function</a>
             <a href="../../">Law of Total Expectation</a>
            
        </li>
    </ul> -->



    <ul class="list-unstyled CTAs">
        <li>
            Ⓒ Chris Piech, Stanford University
            <!-- <a href="https://compedu.stanford.edu/codeinplace/v1/#/course" class="download">Back to Code in Place</a> -->
        </li>
    </ul>
</nav>
        <!-- Page Content  -->
        <div id="content">

<button type="button" id="sidebarCollapse" class="mobile-only btn btn-dark exclude-from-print">
    <i class="fas fa-align-left"></i>
    <span></span>
</button>
            <!-- <button id="curiosityButton" onclick = "onCuriosity()" type="button" class="btn btn-primary btn-sm">
              <span style="font-size:150%">I'm Curious</span>
              <span></span>
          </button> -->
            
            <div class="container-fluid">
                <div class="row d-flex justify-content-center">
                    <div class="col handout" >
              
                        
 
<center><h1>Many Coin Flips</h1></center>
<hr/>

<p>In this section we are going to consider the number of heads on $n$ coin flips. This thought experiment is going to be a basis for much probability theory! It goes far beyond coin flips.</p>

<p>Say a coin comes up heads with probability $p$. Most coins are fair and as such come up heads with probability $p=0.5$. There are many events for which coin flips are a great analogy that have different values of $p$ so let's leave $p$ as a variable. You can try simulating flipping coins here. Note that <code class="blue">H</code> is short for Heads and <code>T</code> is short for Tails. We think of each coin as distinct:</p>

<p>
<div class="bordered">

	<p><b>Coin Flip Simulator</b></p>
<div class="row">
	<div class="col-6 col-sm-4">
Number of flips $n$: <input  type="number" class="form-control example-inline-input mb-3" id="n" min="1" value="10" step = "1">
</div>
<div class="col-6 col-sm-5">
Probability of heads $p$: <input  type="number" class="form-control example-inline-input mb-3" id="p" min="0" max="1" value="0.60" step = "0.05">
</div>
<div class="col-12 col-sm-2 mb-3">
<button onclick="simulate()" class="btn btn-primary">New simulation</button>
</div>
</div>
Simulator results:
<pre class="language-python"  style="height:50px;"><code id="results"></code></pre>
Total number of heads: <span class="nHeads"></span><br/>
</div>

<script>

$(document).ready(function() {
	simulate()
})
function simulate() {
	var n = parseInt($("#n").val()) 
	var p = parseFloat($("#p").val())
	let results = ''
	let nHeads = 0
	for (var i = 0; i < n; i++) {
		let isHeads = Math.random() < p
		if(isHeads) {
			results += '<span class="blue">H</span>'
			nHeads++;
		} else {
			results += '<span style="color:#D64F8A;">T</span>'
		}
		if(i < n - 1) {
			results += ', '
		}
	}

	let pr_x = binomialPmf(n,p,nHeads).toFixed(3)

	$("#results").html(results)
	$(".nHeads").html(nHeads)
	$(".nFlips").html(n)
	$(".pHeads").html(p)
	$(".prResult").html(pr_x)
}
</script></p>

<p>
	Using the math in this chapter we will be able to show that the probability of getting exactly <span class="nHeads"></span> heads (when the probability of heads on each flip is <span class="pHeads"></span>) = <span class="prResult"></span>. Specifically in this chapter:

	<ol>
		<li><a href="#warmups">Warmups</a>: We calculate the probability of a few exact outcomes.</li>
		<li><a href="exactlykheads">Exactly $k$ heads</a>. We derive the general formula.</li>
		<li><a href="exactlykheads">More than $k$ heads</a>. We explore this interesting related problem.</li>
	</ol>
</p>

<h2 id="warmups">Warmups</h2>

<p>In all of these warmups we are going to consider the probability of different outcomes when you flip a coin $n$ times and each time the probability of heads is $p$. In each solution we will consider the case where $n=10$ and $p=0.6$.</p><br/>

<p>
	<b>What is the probability that all $n$ flips are heads?</b> <br/>
	<div class="bordered">

		This question is asking what is the probability of getting the outcome:
		<pre class="language-python"><code class="coins">H, H, H, H, H, H, H, H, H, H</code></pre>
		
		<p>Where each flip lands in heads (<code class="blue">H</code>). Each coin flip is independent so we can use the rule for <a href="../../part1/prob_and">probability of <b>and</b> with independent events</a>. As such, the probability of $n$ heads is  $p$ multiplied by itself $n$ times: $p^n$.</p>
		
		<p>If $n=10$ and $p=0.6$ then the probability of $n$ heads = $p^n = 0.6^{10} \approx$ 0.006.</p>

	</div>
</p><br/>

<p>
	<b>What is the probability that all $n$ flips are tails? </b><br/>
	<div class="bordered">

		Lets say $n=10$ this question is asking what is the probability of getting:
		<pre class="language-python"><code class="coins">T, T, T, T, T, T, T, T, T, T</code></pre>
		
		Each coin flip is independent. The probability of tails on any coin flip is $1-p$. Again, since the coin flips are independent, the probability of tails $n$ times on $n$ flips is $(1-p)$ multiplied by itself $n$ times: $(1-p)^n$. If $n=10$ and $p=0.6$ then the probability of $n$ tails is around 0.0001.
	</div>
</p><br/>

<p>
	<b>First $k$ heads then $n-k$ tails</b><br/>
	<div class="bordered">

		Lets say $n=10$ and $k=4$, this question is asking what is the probability of getting:
		<pre class="language-python"  style="height:50px;"><code class="coins">H, H, H, H, T, T, T, T, T, T</code></pre>
		
		The coins are still independent! The first $k$ heads occur with probability $p^k$ the run of $n-k$ tails occurs with probability $(1-p)^{n-k}$. The probability of $k$ heads then $n-k$ tails is the product of those two terms: $p^k \cdot (1-p)^{n-k}$
	</div>
</p>

<h2>Exactly $k$ heads</h2>

<p>Next lets try to figure out the probability of exactly $k$ heads in the $n$ flips. Importantly we don't care where in the $n$ flips that we get the heads, as long as there are $k$ of them. Note that this question is different than the question of first $k$ heads and then $n-k$ tails which requires that the $k$ heads come first! That particular result does generate exactly $k$ coin flips, but there are others.</p>

<p>There are many others! Lets ask the computer to list the ways we could generate exactly $k=4$ heads within $n=10$ coin flips. The output region is scrollable:

<pre style="height:400px" class="language-python"><code class="coins">(H, H, H, H, T, T, T, T, T, T)
(H, H, H, T, H, T, T, T, T, T)
(H, H, H, T, T, H, T, T, T, T)
(H, H, H, T, T, T, H, T, T, T)
(H, H, H, T, T, T, T, H, T, T)
(H, H, H, T, T, T, T, T, H, T)
(H, H, H, T, T, T, T, T, T, H)
(H, H, T, H, H, T, T, T, T, T)
(H, H, T, H, T, H, T, T, T, T)
(H, H, T, H, T, T, H, T, T, T)
(H, H, T, H, T, T, T, H, T, T)
(H, H, T, H, T, T, T, T, H, T)
(H, H, T, H, T, T, T, T, T, H)
(H, H, T, T, H, H, T, T, T, T)
(H, H, T, T, H, T, H, T, T, T)
(H, H, T, T, H, T, T, H, T, T)
(H, H, T, T, H, T, T, T, H, T)
(H, H, T, T, H, T, T, T, T, H)
(H, H, T, T, T, H, H, T, T, T)
(H, H, T, T, T, H, T, H, T, T)
(H, H, T, T, T, H, T, T, H, T)
(H, H, T, T, T, H, T, T, T, H)
(H, H, T, T, T, T, H, H, T, T)
(H, H, T, T, T, T, H, T, H, T)
(H, H, T, T, T, T, H, T, T, H)
(H, H, T, T, T, T, T, H, H, T)
(H, H, T, T, T, T, T, H, T, H)
(H, H, T, T, T, T, T, T, H, H)
(H, T, H, H, H, T, T, T, T, T)
(H, T, H, H, T, H, T, T, T, T)
(H, T, H, H, T, T, H, T, T, T)
(H, T, H, H, T, T, T, H, T, T)
(H, T, H, H, T, T, T, T, H, T)
(H, T, H, H, T, T, T, T, T, H)
(H, T, H, T, H, H, T, T, T, T)
(H, T, H, T, H, T, H, T, T, T)
(H, T, H, T, H, T, T, H, T, T)
(H, T, H, T, H, T, T, T, H, T)
(H, T, H, T, H, T, T, T, T, H)
(H, T, H, T, T, H, H, T, T, T)
(H, T, H, T, T, H, T, H, T, T)
(H, T, H, T, T, H, T, T, H, T)
(H, T, H, T, T, H, T, T, T, H)
(H, T, H, T, T, T, H, H, T, T)
(H, T, H, T, T, T, H, T, H, T)
(H, T, H, T, T, T, H, T, T, H)
(H, T, H, T, T, T, T, H, H, T)
(H, T, H, T, T, T, T, H, T, H)
(H, T, H, T, T, T, T, T, H, H)
(H, T, T, H, H, H, T, T, T, T)
(H, T, T, H, H, T, H, T, T, T)
(H, T, T, H, H, T, T, H, T, T)
(H, T, T, H, H, T, T, T, H, T)
(H, T, T, H, H, T, T, T, T, H)
(H, T, T, H, T, H, H, T, T, T)
(H, T, T, H, T, H, T, H, T, T)
(H, T, T, H, T, H, T, T, H, T)
(H, T, T, H, T, H, T, T, T, H)
(H, T, T, H, T, T, H, H, T, T)
(H, T, T, H, T, T, H, T, H, T)
(H, T, T, H, T, T, H, T, T, H)
(H, T, T, H, T, T, T, H, H, T)
(H, T, T, H, T, T, T, H, T, H)
(H, T, T, H, T, T, T, T, H, H)
(H, T, T, T, H, H, H, T, T, T)
(H, T, T, T, H, H, T, H, T, T)
(H, T, T, T, H, H, T, T, H, T)
(H, T, T, T, H, H, T, T, T, H)
(H, T, T, T, H, T, H, H, T, T)
(H, T, T, T, H, T, H, T, H, T)
(H, T, T, T, H, T, H, T, T, H)
(H, T, T, T, H, T, T, H, H, T)
(H, T, T, T, H, T, T, H, T, H)
(H, T, T, T, H, T, T, T, H, H)
(H, T, T, T, T, H, H, H, T, T)
(H, T, T, T, T, H, H, T, H, T)
(H, T, T, T, T, H, H, T, T, H)
(H, T, T, T, T, H, T, H, H, T)
(H, T, T, T, T, H, T, H, T, H)
(H, T, T, T, T, H, T, T, H, H)
(H, T, T, T, T, T, H, H, H, T)
(H, T, T, T, T, T, H, H, T, H)
(H, T, T, T, T, T, H, T, H, H)
(H, T, T, T, T, T, T, H, H, H)
(T, H, H, H, H, T, T, T, T, T)
(T, H, H, H, T, H, T, T, T, T)
(T, H, H, H, T, T, H, T, T, T)
(T, H, H, H, T, T, T, H, T, T)
(T, H, H, H, T, T, T, T, H, T)
(T, H, H, H, T, T, T, T, T, H)
(T, H, H, T, H, H, T, T, T, T)
(T, H, H, T, H, T, H, T, T, T)
(T, H, H, T, H, T, T, H, T, T)
(T, H, H, T, H, T, T, T, H, T)
(T, H, H, T, H, T, T, T, T, H)
(T, H, H, T, T, H, H, T, T, T)
(T, H, H, T, T, H, T, H, T, T)
(T, H, H, T, T, H, T, T, H, T)
(T, H, H, T, T, H, T, T, T, H)
(T, H, H, T, T, T, H, H, T, T)
(T, H, H, T, T, T, H, T, H, T)
(T, H, H, T, T, T, H, T, T, H)
(T, H, H, T, T, T, T, H, H, T)
(T, H, H, T, T, T, T, H, T, H)
(T, H, H, T, T, T, T, T, H, H)
(T, H, T, H, H, H, T, T, T, T)
(T, H, T, H, H, T, H, T, T, T)
(T, H, T, H, H, T, T, H, T, T)
(T, H, T, H, H, T, T, T, H, T)
(T, H, T, H, H, T, T, T, T, H)
(T, H, T, H, T, H, H, T, T, T)
(T, H, T, H, T, H, T, H, T, T)
(T, H, T, H, T, H, T, T, H, T)
(T, H, T, H, T, H, T, T, T, H)
(T, H, T, H, T, T, H, H, T, T)
(T, H, T, H, T, T, H, T, H, T)
(T, H, T, H, T, T, H, T, T, H)
(T, H, T, H, T, T, T, H, H, T)
(T, H, T, H, T, T, T, H, T, H)
(T, H, T, H, T, T, T, T, H, H)
(T, H, T, T, H, H, H, T, T, T)
(T, H, T, T, H, H, T, H, T, T)
(T, H, T, T, H, H, T, T, H, T)
(T, H, T, T, H, H, T, T, T, H)
(T, H, T, T, H, T, H, H, T, T)
(T, H, T, T, H, T, H, T, H, T)
(T, H, T, T, H, T, H, T, T, H)
(T, H, T, T, H, T, T, H, H, T)
(T, H, T, T, H, T, T, H, T, H)
(T, H, T, T, H, T, T, T, H, H)
(T, H, T, T, T, H, H, H, T, T)
(T, H, T, T, T, H, H, T, H, T)
(T, H, T, T, T, H, H, T, T, H)
(T, H, T, T, T, H, T, H, H, T)
(T, H, T, T, T, H, T, H, T, H)
(T, H, T, T, T, H, T, T, H, H)
(T, H, T, T, T, T, H, H, H, T)
(T, H, T, T, T, T, H, H, T, H)
(T, H, T, T, T, T, H, T, H, H)
(T, H, T, T, T, T, T, H, H, H)
(T, T, H, H, H, H, T, T, T, T)
(T, T, H, H, H, T, H, T, T, T)
(T, T, H, H, H, T, T, H, T, T)
(T, T, H, H, H, T, T, T, H, T)
(T, T, H, H, H, T, T, T, T, H)
(T, T, H, H, T, H, H, T, T, T)
(T, T, H, H, T, H, T, H, T, T)
(T, T, H, H, T, H, T, T, H, T)
(T, T, H, H, T, H, T, T, T, H)
(T, T, H, H, T, T, H, H, T, T)
(T, T, H, H, T, T, H, T, H, T)
(T, T, H, H, T, T, H, T, T, H)
(T, T, H, H, T, T, T, H, H, T)
(T, T, H, H, T, T, T, H, T, H)
(T, T, H, H, T, T, T, T, H, H)
(T, T, H, T, H, H, H, T, T, T)
(T, T, H, T, H, H, T, H, T, T)
(T, T, H, T, H, H, T, T, H, T)
(T, T, H, T, H, H, T, T, T, H)
(T, T, H, T, H, T, H, H, T, T)
(T, T, H, T, H, T, H, T, H, T)
(T, T, H, T, H, T, H, T, T, H)
(T, T, H, T, H, T, T, H, H, T)
(T, T, H, T, H, T, T, H, T, H)
(T, T, H, T, H, T, T, T, H, H)
(T, T, H, T, T, H, H, H, T, T)
(T, T, H, T, T, H, H, T, H, T)
(T, T, H, T, T, H, H, T, T, H)
(T, T, H, T, T, H, T, H, H, T)
(T, T, H, T, T, H, T, H, T, H)
(T, T, H, T, T, H, T, T, H, H)
(T, T, H, T, T, T, H, H, H, T)
(T, T, H, T, T, T, H, H, T, H)
(T, T, H, T, T, T, H, T, H, H)
(T, T, H, T, T, T, T, H, H, H)
(T, T, T, H, H, H, H, T, T, T)
(T, T, T, H, H, H, T, H, T, T)
(T, T, T, H, H, H, T, T, H, T)
(T, T, T, H, H, H, T, T, T, H)
(T, T, T, H, H, T, H, H, T, T)
(T, T, T, H, H, T, H, T, H, T)
(T, T, T, H, H, T, H, T, T, H)
(T, T, T, H, H, T, T, H, H, T)
(T, T, T, H, H, T, T, H, T, H)
(T, T, T, H, H, T, T, T, H, H)
(T, T, T, H, T, H, H, H, T, T)
(T, T, T, H, T, H, H, T, H, T)
(T, T, T, H, T, H, H, T, T, H)
(T, T, T, H, T, H, T, H, H, T)
(T, T, T, H, T, H, T, H, T, H)
(T, T, T, H, T, H, T, T, H, H)
(T, T, T, H, T, T, H, H, H, T)
(T, T, T, H, T, T, H, H, T, H)
(T, T, T, H, T, T, H, T, H, H)
(T, T, T, H, T, T, T, H, H, H)
(T, T, T, T, H, H, H, H, T, T)
(T, T, T, T, H, H, H, T, H, T)
(T, T, T, T, H, H, H, T, T, H)
(T, T, T, T, H, H, T, H, H, T)
(T, T, T, T, H, H, T, H, T, H)
(T, T, T, T, H, H, T, T, H, H)
(T, T, T, T, H, T, H, H, H, T)
(T, T, T, T, H, T, H, H, T, H)
(T, T, T, T, H, T, H, T, H, H)
(T, T, T, T, H, T, T, H, H, H)
(T, T, T, T, T, H, H, H, H, T)
(T, T, T, T, T, H, H, H, T, H)
(T, T, T, T, T, H, H, T, H, H)
(T, T, T, T, T, H, T, H, H, H)
(T, T, T, T, T, T, H, H, H, H)</code></pre></p>

<p>Let's call each of these rows an "ordering" since each row is a unique way to order the 4 heads and 6 tails. Let $N$ be the number of unique orderings.</p>

<p>Exactly how many unique orderings are there with $k=4$ heads in $n=10$ flips? $N=210$. Why? Each ordering listed above is a permutation of the list [<code class="blue">H</code>, <code class="blue">H</code>, <code class="blue">H</code>, <code class="blue">H</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>]. As such, the question "how many orderings are there?" is analogous to the question, how many distinct orderings of characters are possible for the string "HHHHTTTTT"? Because <code class="blue">H</code> characters are indistinct from one another (and same for <code>T</code>) we can solve this problem using <a href="../../part1/combinatorics/#perm_indisctinct">Permutations of Indistinct Objects</a>: 
	
	$$\text{Num Orderings} = \frac{n!}{k! (n-k)!} = {n \choose k}$$

<p>Each of these orderings can be thought of as one event, or outcome, of flipping 10 coins. Let's name $E_i$ to be the event that we get the exact outcome in the $i$th row. $E_1$ is the event that we get [<code class="blue">H</code>, <code class="blue">H</code>, <code class="blue">H</code>, <code class="blue">H</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>]. $E_2$ is the event that we get [<code class="blue">H</code>, <code class="blue">H</code>, <code class="blue">H</code>, <code>T</code>, <code class="blue">H</code>,  <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>, <code>T</code>] and so on.</p>

<p>The probability of exactly $k=4$ heads is the probability of the <b>or</b> of each of these events $E_i$. If you flip a coin 10 times, it is not possible to have more than one of the $E_i$ events occur (eg both $E_1$ and $E_2$ can't be true if you flip 10 coins). In other words, each of these events $E_i$ is "mutually exclusive" and as such: 
	
	$$
	\begin{align}
	\p(\text{exactly $k$ heads}) 
	&= \p(E_1 \or E_2 \or \ldots \or E_N) \\
	 &= \sum_{i=1}^N \p(E_i)
	\end{align}
	$$</p>

<p>The next question is, what is the probability of each of these events $E_i$?</p>

<p>Here is a arbitrarily chosen ordering which satisfies the event of exactly $k=4$ heads in $n=10$ coin flips. It is $E_{128}$, the ordering on row 128 in the list above:

	<pre class="language-python"  style="height:50px;"><code class="coins">T, H, T, T, H, T, T, H, H, T</code></pre>

<p>What is the probability of event $E_{128}$, the exact sequence of heads and tails in the example above? Each coin flip is still independent, so we multiply $p$ for each heads and $1-p$ for each tails. 
	$$\p(E_{128}) = (1-p) \cdot p \cdot (1-p) \cdot (1-p) \cdot p \cdot (1-p) \cdot (1-p) \cdot p \cdot p \cdot (1-p)$$
If you rearrange these multiplication terms you get:
	$$
	\begin{align}
	\p(E_{128}) &= p \cdot p \cdot p \cdot p \cdot (1-p) \cdot (1-p) \cdot (1-p) \cdot (1-p) \cdot (1-p) \cdot (1-p)\\
	&= p^4 \cdot (1-p)^{6}
	\end{align}
	$$
There is nothing too special about row 128. If you chose any row, you would get $k$ independent heads and $n-k$ independent tails. For any row $i$, $\p(E_i) = p^k \cdot (1-p)^{n-k}$. </p>


<p>Now we are ready to calculate the probability of exactly $k$ heads:

$$
\begin{align}
\p(\text{exactly $k$ heads}) 
	&= \sum_{i=1}^N \p(E_i) && \text{Mutual Exclusion}\\
	&= \sum_{i=1}^N p^k \cdot (1-p)^{n-k} && \text{Sub in }\p(E_i) \\
	&= N \cdot p^k \cdot (1-p)^{n-k} && \text{Sum $N$ times}  \\
	&= {n \choose k} \cdot p^k \cdot (1-p)^{n-k} && \text{Perm of indistinct objects} 
\end{align}$$

Let's bring that back to the example of getting exactly $k=4$ heads out of $n=10$ where the probability of getting a heads on any one flip is $p=0.6$. The probability of exactly $k$ heads is:
$$
\begin{align}
\p(\text{exactly $k$ heads}) 
&= {n \choose k} \cdot p^k \cdot (1-p)^{n-k} &&\text{Just derived!}\\
	&= {10 \choose 4} \cdot 0.6^4 \cdot (1-0.6)^{10-4} && \text{Sub in $n$, $k$, $p$} \\
	&= 210 \cdot 0.6^4 \cdot 0.4^6 && \text{Simplify} \\
	&= 0.111
\end{align}
$$

We are done! This result is truly useful. Care about the probability of number of voters who vote for a candidate? Care about the number of people who get a disease? Care about the number of people who click on an ad? This derivation is the basis for all of that! Later in this book we will formalize this incredible result into the <a href="../../../part2/binomial/">Binomial Random Variable</a>.

<h2>More than $k$ heads</h2>

<p>
	There are many cases where you care about the probability of more than $k$ heads. We can derive a solution based on the forumla for exactly $k$ heads.</p>
	
	<p>If you want the probability of getting more than $k=4$ heads out of $n=10$ coin flips it is the probability of the <b>or</b> of each of the events where you get exactly $i$ heads for $i=5, 6, 7, 8, 9, 10$. Note that all the events where you get exactly $i$ heads are mutually exclusive from the events where you get exactly $j$ heads when $ i \neq j$. For example if you flip a coin 10 times, it is not possible to get exactly 4 heads and to also get exactly 5 heads.  As such the probability of <b>or</b> becomes addition:
	$$
\begin{align}
\p(\text{more than $k$ heads}) 
	&= \sum_{i=k+1}^n \p(\text{exactly $i$ heads}) && \text{Mutual Exclusion}\\
	&= \sum_{i=k+1}^n {n \choose i} \cdot p^i \cdot (1-p)^{n-i} && \text{Substitution}\\
\end{align}$$
	</p>

	<!-- <p><b>Buggy approach:</b> If the probability of $p$ was 0.5, a common incorrect solution I see to this problem is to count the number events where there are at least $k$ heads in the following way. </p> -->

<script>

	$(document).ready(function() {
		let coins = $(".coins")
		coins.each(function() {
			let html = $(this).html()
			html = html.replaceAll('H', '<span class="blue">H</span>')
			html = html.replaceAll('T', '<span style="color:#D64F8A;font-weight: bolder;">T</span>')
			console.log(html)
			$(this).html(html)
		})
	})
</script>

                        



<script type="text/javascript">
    // const firebase = require("firebase");
    // Required for side-effects
    // require("firebase/firestore");

    $(document).ready(function () {
        console.log('ready')
        const scrollTop = getScrollTop()
        console.log(scrollTop)
        $("#sidebar").scrollTop(scrollTop)
        $("#sidebar").scroll(function() {
          localStorage.scrollTop = $("#sidebar").scrollTop()
        })
        // $("#sidebar").mCustomScrollbar({
        //     theme: "minimal",
        //     mouseWheel: {preventDefault: true},
        //     advanced:{
        //      autoScrollOnFocus: false,
        //      updateOnContentResize: true
        //     },
        //     scrollInertia:0,
        //     contentTouchScroll:1,
        //     mouseWheel: {
        //         scrollAmount:1000
        //     },
        //     setTop:scrollTop + 'px',
        //     callbacks:{
        //         onScroll:function(){
        //             if(hasStorage) {

        //                 localStorage.scrollTop = this.mcs.top;
        //                 console.log(localStorage.scrollTop)
        //             }
        //         }
        //     } 
        // });

        $('#sidebarCollapse').on('click', function () {
            $('#sidebar, #content').toggleClass('active');
            $('.collapse.in').toggleClass('in');
            $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });

        
        let lastPart = getUrlKey()
        
        // Bug: this code will highlight anything which matches with the last part
        $("#sidebar").find('a').each(function(){
            // find link which ends with last part and add style
            let currLink = $($(this)[0]).attr('href')
            let currLastPart = getLastPartOfUrl(currLink)
            if (currLastPart === lastPart) {
                $($(this)[0]).addClass('active-link');
            }
        })
    });

    function getScrollTop() {
        if(typeof(Storage) !== "undefined") {
            return Number(localStorage.scrollTop)
        }
        return 0;
    }

    function getUrlKey() {
        var path = window.location.pathname;
        return getLastPartOfUrl(path)
        
    }

    function getLastPartOfUrl(path) {
        let parts = path.split('/')
        var currIndex = parts.length - 1
        while(currIndex >= 0) {
            let nextPart = parts[currIndex]
            if(nextPart) {
                return nextPart
            }
            currIndex -= 1
        }
        return ''
    }

    function submitQuestion() {
        firebase.initializeApp({
          apiKey: "AIzaSyBqZVV7Qrp0DT3aBCCTCTMUCrPJO0pb3tY",
          authDomain: "probability-digital-world.firebaseapp.com",
          projectId: "probability-digital-world"
        });

        var db = firebase.firestore();

        db.collection("questions").add({
            email: $("#question-email").val(),
            question: "Lovelace",
            page: getUrlKey()
        })
        .then(function(docRef) {
            console.log("Document written with ID: ", docRef.id);
            alert('success')
        })
        .catch(function(error) {
            console.error("Error adding document: ", error);
        });
        // // // Generate a new push ID for the new post
        // var questionListRef = db.child("questions")
        // var newQuestionRef = questionListRef.push();
        // newQuestionRef.set({
        //     'title':'test'
        // });
        
    }

    function onCuriosity() {
        Swal.fire({
          title: 'Curious?',
          position: 'bottom-end',
          allowOutsideClick:false,
          backdrop:false,
          confirmButtonText: 'Submit',
          input: 'textarea',
          html:
            '<p>We are trying to make this book better. Let us know if you find something confusing. If you ask a question we will try to answer it. If you find a mistake we will fix it. </p>' +
            '<input placeholder="Your email (optional)..." id="question-email" class="swal2-input">',
          inputPlaceholder: 'Type your question or message here...',
          inputAttributes: {
            'aria-label': 'Type your question or message here'
          },
          showCancelButton: true,
          preConfirm: () => submitQuestion()
        })
    }
</script>

                         <br/><br/>
                
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

$(document).ready(function() {
  //addH2Numbers()
  enableSearch()
})

function addH2Numbers() {
  $("h2").each(function(i){
    let title = $(this).html()
    title = `${i+1}. ${title}`
    $(this).html(title)
  })
}

function enableSearch() {
  $("#probability-for-digital-world-search").on('keyup', function (e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
          let query = $("#probability-for-digital-world-search").val()
          
          window.location = `../../search.html?q=${query}`
      }
  });
  // $.ajax({
  //     type: "GET",
  //     url: "../../../searchIndex.json",
  //     dataType: "text",
  //     success: function(data) {addSearchIndexData(data);}
  //  });
}

function standardPMFConfig(xValues, yValues, xLabel, yLabel){
  return {
    type: 'bar',
    data: {
      labels: xValues,
      datasets: [{
        label: 'P(x)',
        fill: false,
        backgroundColor: 'blue',
        borderColor: 'blue',
        data: yValues,
        pointRadius:1,
        maxBarThickness:100,
        pointHitRadius: 20
      }]
    },
    options: {

      steppedLine: false,
      responsive: true,
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      animation: {
            duration: 0
        },
      plugins: {
        legend: {
              display: false
           },
         },
      scales: {
        x: {
          display: true,
          type: 'linear',
          title: {
            display: true,
            text: xLabel
          }
        },
        y: {
          display: true,
          title: {
            display: true,
            text: yLabel
          },
          ticks: {
            beginAtZero: true
          }
        }
      }
    }
  };
}

function standardPDFConfig(xValues, yValues, xLabel, yLabel){
  return {
    type: 'line',
    data: {
      labels: xValues,
      datasets: [{
        label: 'f(x)',
        fill: false,
        backgroundColor: 'blue',
        borderColor: 'blue',
        data: yValues,
        pointRadius:1,
        maxBarThickness:100,
        pointHitRadius: 20
      }]
    },
    options: {
      steppedLine: false,
      responsive: true,
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      animation: {
            duration: 0
        },
      plugins: {
        legend: {
              display: false
           },
         },
      scales: {
        x: {
          display: true,
          type: 'linear',
          title: {
            display: true,
            text: xLabel
          }
        },
        y: {
          display: true,
          title: {
            display: true,
            text: yLabel
          },
          ticks: {
            beginAtZero: true
          }
        }
      }
    }
  };
}

function standardPDFsConfig(datasets, xValues, xLabel, yLabel){
  return {
    type: 'line',
    data: {
      datasets: datasets
    },
    options: {

      steppedLine: false,
      responsive: true,
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      animation: {
            duration: 0
        },
      plugins: {
        legend: {
              display: false
           },
         },
      scales: {
        x: {
          display: true,
          type: 'linear',
          title: {
            display: true,
            text: xLabel
          }
        },
        y: {
          display: true,
          title: {
            display: true,
            text: yLabel
          },
          ticks: {
            beginAtZero: true
          }
        }
      }
    }
  };
}


function addSearchIndexData(data) {
  var idx = lunr(function () {
    this.ref('name')
    this.field('text')

    let documents = JSON.parse(data)

    documents.forEach(function (doc) {
      this.add(doc)
    }, this)

    $("#probability-for-digital-world-search").on('keyup', function (e) {
        if (e.key === 'Enter' || e.keyCode === 13) {
            let query = $("#probability-for-digital-world-search").val()
            let results = idx.search(query)
        }
    });
  })
}

    </script>

</body>




</html>